<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>partition_mikael</title>
    <script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>
    <script>
      // Make the div with id 'mycell' a Sage cell
      sagecell.makeSagecell({
        inputLocation: "#mycell",
        template: sagecell.templates.minimal,
        evalButtonText: "Activate",
      });
      // Make *any* div with class 'compute' a Sage cell
      sagecell.makeSagecell({
        inputLocation: "div.compute",
        evalButtonText: "Evaluate",
      });
    </script>

    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>

    <style type="text/css">
      body {
        background-color: lightgray;
        color: darkslategray;
        font-family: "arial";
        font-size: 12pt;
        margin-left: 2.0%;
        margin-bottom: 12%;
      }

      details > summary {
        padding: 10px;
        font-size: 18pt;
        width: 1000px;
        border: none;
        cursor: pointer;
      }

      details > p {
        color: darkslategray;
        font-family: "arial";
        font-size: 18px;
      }
    </style>
  </head>
  <body>
    <h1>Partition_Mikael</h1>

    <br />
    
    <p style="font-size: 18px"><strong>To download the codes, please visit our 
    <a href="https://github.com/mikaelyun281/Partition" target="_blank"> 
      GitHub repository.  
    </a><br>
    Please note that testing a too big size of number could exceed acceptable computation time for online IDEs.<br>
    So we recommend you to test the codes in your personal computer environment by installing an IDE.
    </strong></p>
    


    <br />
    <br />
    <br />

    <h4 style="font-size: 17px; color:rgb(2, 10, 20);"">* Thank you to SageMath for offering an online IDE.</h4>

    <br />

    <h2>Hardy-Ramanujan-Rademacher formula</h2>

    <div class="compute">
      <script type="text/x-sage">
import sympy


N = 150  # Type only a positive integer for the value "N"


print(pari.numbpart(N))
print(sympy.partition(N))

# These library functions from PARI/GP and Sympy adopt Hardy-Ramanujan-Rademacher formula for the partition of integers.

# See the following documentations for source:
# 1. http://pari.math.u-bordeaux.fr/dochtml/html/Combinatorics.html#numbpart
# 2. https://docs.sympy.org/latest/modules/ntheory.html#sympy.ntheory.partitions_.npartitions
      </script>
    </div>


      <br />
      <br />
      <br />
      <br />
     


      <h4 style="font-size: 17px; color:rgb(2, 10, 20);">* Thank you to JDoodle for offering an online IDE.</h4>

      <br />
      <br />

      <details>
        <summary><strong> Partition Function <strong></summary>
        
      <br />

      <h2>C</h2>

      
<form action="https://www.jdoodle.com/api/redirect-to-post/compile-c99-online" method="post">
  <textarea name="initScript"  rows="16" cols="160">
#include <stdio.h>
#include <time.h>
long first2terms(long N);
long after_3rd_term = 0;
long A(long n, long k);
long B(long n, long k);
long C(long n);
long D(long n);



int main(void) {

  double N = 120;  // Please input a natural number "N" for P(N) at here.
   

      clock_t start, end;
      double running_time;
      start = clock();
   
      long n = N-6, k, partition;    


      if(N>=0 && N-(int)N == 0){
           
         for(n; n>=0; n-=2){
            k=3+((N-6)-n)/2;
            A(n,k);
         }
           
         partition = first2terms(N) + after_3rd_term;
         printf("%ld\n",partition);
     
         end = clock();
         running_time = ((double)(end - start))/CLOCKS_PER_SEC;
         printf("%s%lf%s\n", "running time: ", running_time, " seconds");   
      }
      else{
         printf("%s\n", "undefined");
      }

      return 0;
}


long first2terms(long N){
  
      if(N==0){
         return 1;
      }
      else{
         long secondterm = 0;
         if(N%2==1){
           secondterm += ((N-3)/2)*((N-3)/2)+((N-3)/2);
         }
         else{
           secondterm += (N/2-1)*(N/2-1);
         }
         return N + secondterm;
      }
}


long A(long n, long k){

     if(n>=k && k>=3){
        return C(n) + A(n-k, k) + B(n,k); 
     }  
     
     else if(n>=3 && n<k){
        k=n;
        return C(n) + A(n-k, k) + B(n,k);
     }

     else{
        return C(n);
     }
}
  
 
long B(long n, long k){
     
     while(k>3){
       k--;
       A(n-k,k);
     }
 
     return 0;
} 


long C(long n){
     
     after_3rd_term += D(n);
     return after_3rd_term; 
}


long D(long n){
 
     long result = 0;
    
     if(n%2==1){
        result += ((n+1)/2)*((n+1)/2)+((n+1)/2);
     }
      
     else{
        result += (n/2+1)*(n/2+1);
     }

     return result;
} 
  </textarea><br>
  <input type="submit" style="font-size:140%;" value="Submit">
</form>

<br />
<br />
<br />

<h2>C++</h2>

<form action="https://www.jdoodle.com/api/redirect-to-post/online-compiler-c++14" method="post">
  <textarea name="initScript"  rows="16" cols="160">
#include <iostream>
#include <chrono>

auto start = std::chrono::steady_clock::now();

long first2terms(long N);
long after_3rd_term = 0;
long A(long n, long k);
long B(long n, long k);
long C(long n);
long D(long n);



int main(void) {

  auto N = 120;  // Please input a natural number "N" for P(N) at here.
   
   
      long n = N-6, k, partition;  
      
      if(N>=0 && N-(int)N == 0){
         
         for(n; n>=0; n-=2){
            k=3+((N-6)-n)/2;
            A(n,k);
         }
          
         partition = first2terms(N) + after_3rd_term;
         std::cout << partition << '\n';
      
         auto end = std::chrono::steady_clock::now();
         auto diff = end - start;
         std::cout << "running time: " 
         << std::chrono::duration<double>(diff).count() << " seconds" << '\n'; 
      
      }
      else{
           std::cout << "undefined" << '\n';
      }

      return 0;
  }
  

long first2terms(long N){
  
      if(N==0){
         return 1;
      }
      else{
         long secondterm = 0;
         if(N%2==1){
           secondterm += ((N-3)/2)*((N-3)/2)+((N-3)/2);
         }
         else{
           secondterm += (N/2-1)*(N/2-1);
         }
         return N + secondterm;
      }
}


long A(long n, long k){

     if(n>=k && k>=3){
        return C(n) + A(n-k, k) + B(n,k); 
     }  

     else if(n>=3 && n<k){
        k=n;
        return C(n) + A(n-k, k) + B(n,k);
     }

     else{
        return C(n);
     }
}
  
 
long B(long n, long k){
     
     while(k>3){
       k--;
       A(n-k,k);
     }
 
     return 0;
} 


long C(long n){

     after_3rd_term  += D(n);
     return after_3rd_term;  
}


long D(long n){
 
     long result = 0;
    
     if(n%2==1){
        result += ((n+1)/2)*((n+1)/2)+((n+1)/2);
     }
      
     else{
        result += (n/2+1)*(n/2+1);
     }

     return result;
} 
    </textarea><br>
    <input type="submit" style="font-size:140%;" value="Submit">
  </form>
 
      <br />
      <br />
      <br />
      
      <h2>Python</h2>

      
      <form action="https://www.jdoodle.com/api/redirect-to-post/python3-programming-online" method="post">
              <textarea name="initScript"  rows="16" cols="160">
      
      
import timeit
timer_start = timeit.default_timer()


N = 100  # Please input a natural number "N" for P(N) at here.


try:
    def first2terms(N):
        if N == 0:
            return 1
        else:
            if N % 2 == 1:
                secondterm = ((N-3)/2)*((N-3)/2)+((N-3)/2)
            else:
                secondterm = (N/2-1)*(N/2-1)
            return N + secondterm

    def after_3rd_term(N):
        n = N-6
        result = 0
        for n in range(n, -1, -2):
            k = 3+((N-6)-n)/2
            result += A(n, k)
        return result

    def A(n, k):
        if n >= k and k >= 3:
            return C(n) + A(n-k, k) + B(n, k)
        elif n >= 3 and n < k:
            k = n
            return C(n) + A(n-k, k) + B(n, k)
        else:
            return C(n)

    def B(n, k):
        send_back = 0
        while k > 3:
            k -= 1
            send_back += A(n-k, k)
        return send_back

    def C(n):
        c_result = 0
        c_result += D(n)
        return c_result

    def D(n):
        if n % 2 == 1:
            return ((n+1)/2)*((n+1)/2)+((n+1)/2)
        else:
            return (n/2+1)*(n/2+1)

    partition = int(first2terms(N) + after_3rd_term(N))
    timer_stop = timeit.default_timer()
    running_time = round(timer_stop - timer_start, 6)

    if __name__ == '__main__':
        print(partition, "\n" "running time: ",
              running_time, " seconds") if N >= 0 else print("undefined")


except:
    print("undefined")

      
              </textarea><br>
              <input type="submit" style="font-size:140%;" value="Submit">
            </form>

            <br />
            <br />
            <br />
            
            <h2>JavaScript (Node.js)</h2>
      
            
            <form action="https://www.jdoodle.com/api/redirect-to-post/execute-nodejs-online" method="post">
              <textarea name="initScript"  rows="16" cols="160">
      
      
let N = 120  // Please input a natural number "N" for P(N) at here.


let startTime = performance.now()

if (N >= 0 && N - parseInt(N) == 0) {

    function first2terms(N) {
        if (N == 0) {
            return 1;
        }
        else {
            let secondterm;
            if (N % 2 == 1) {
                secondterm = ((N - 3) / 2) * ((N - 3) / 2) + (N - 3) / 2;
            } else {
                secondterm = (N / 2 - 1) * (N / 2 - 1);
            }

            return N + secondterm;
        }
    }

    function after_3rd_term(N) {
        let n = N - 6;
        let result = 0;
        for (n; n >= 0; n -= 2) {
            let k = 3 + (N - 6 - n) / 2;
            result += A(n, k);
        }
        return result;
    }

    function A(n, k) {
        if (n >= k && k >= 3) {
            return C(n) + A(n - k, k) + B(n, k);
        } else if (n >= 3 && n < k) {
            k = n;
            return C(n) + A(n - k, k) + B(n, k);
        } else {
            return C(n);
        }
    }

    function B(n, k) {
        let send_back = 0;
        while (k > 3) {
            k--;
            send_back += A(n - k, k);
        }
        return send_back;
    }

    function C(n) {
        let c_result = 0;
        c_result += D(n);
        return c_result;
    }

    function D(n) {
        let result = 0;

        if (n % 2 == 1) {
            result += ((n + 1) / 2) * ((n + 1) / 2) + (n + 1) / 2;
        } else {
            result += (n / 2 + 1) * (n / 2 + 1);
        }

        return result;
    }

    let partition = first2terms(N) + after_3rd_term(N);
    console.log(partition);

    let endTime = performance.now();
    let duration = ((endTime - startTime) / 1000).toFixed(6);
    console.log(`running time: ${duration} seconds`);
}

else {
    console.log("undefined")
}

        </textarea><br>
        <input type="submit" style="font-size:140%;" value="Submit">
      </form>
      
      <br />
      <br />
      <br />

      <h2>Java</h2>

      <form action="https://www.jdoodle.com/api/redirect-to-post/online-java-compiler" method="post">
        <textarea name="initScript"  rows="16" cols="160">

public class partition_mikael {
    public static void main(String[] args) {
        long N = 150; // Please input a natural number "N" for P(N) at here.

        if (N >= 0) {
            long startTime = System.nanoTime();
            long partition = first2terms(N) + expansion.after_3rd_term(N);

            long endTime = System.nanoTime();
            long totalTime = (endTime - startTime) / 1000000000;
            System.out.println(partition);
            System.out.println(totalTime + "seconds");
        } else {
            System.out.println("undefined");
        }
    }

    static long first2terms(long N) {
        if (N == 0) {
            return 1;
        } else {
            long second_term = 0;
            if (N % 2 == 1) {
                second_term += ((N - 3) / 2) * ((N - 3) / 2) + ((N - 3) / 2);
            } else {
                second_term += (N / 2 - 1) * (N / 2 - 1);
            }
            return N + second_term;
        }
    }
}

class expansion {
    static long after_3rd_term(long N) {
        long result = 0;
        for (long n = N - 6; n >= 0; n -= 2) {
            long k = 3 + ((N - 6) - n) / 2;
            result += A(n, k);
        }
        return result;
    }

    private static long A(long n, long k) {
        if (n >= k && k >= 3) {
            return C(n) + A(n - k, k) + B(n, k);
        } else if (n >= 3 && n < k) {
            k = n;
            return C(n) + A(n - k, k) + B(n, k);
        } else {
            return C(n);
        }
    }

    private static long B(long n, long k) {
        long send_back = 0;
        while (k > 3) {
            k--;
            send_back += A(n - k, k);
        }
        return send_back;
    }

    private static long C(long n) {
        long c_result = 0;
        c_result += D(n);
        return c_result;
    }

    private static long D(long n) {
        long result = 0;

        if (n % 2 == 1) {
            result += ((n + 1) / 2) * ((n + 1) / 2) + ((n + 1) / 2);
        } else {
            result += (n / 2 + 1) * (n / 2 + 1);
        }
        return result;
    }
}

        </textarea><br>
        <input type="submit" style="font-size:140%;" value="Submit">
      </form>

      <br />
      <br />
      <br />

      <h2>C#</h2>

      <form action="https://www.jdoodle.com/api/redirect-to-post/compile-c-sharp-online" method="post">
        <textarea name="initScript"  rows="16" cols="160">
using System;


namespace Partition
{
    class I
    {
        public static void Main()
        {
            long N = 120; // Please input a natural number "N" for P(N) at here.

            if (N >= 0)
            {
                var watch = System.Diagnostics.Stopwatch.StartNew();
                long partition = I.first2terms(N) + II.after_3rd_term(N);

                watch.Stop();
                var elapsedMs = (watch.ElapsedMilliseconds) / 1000;
                Console.WriteLine(partition);
                Console.WriteLine(elapsedMs + "seconds");
            }
            else
            {
                Console.WriteLine("undefined");
            }
        }

        private static long first2terms(long N)
        {
            if (N == 0)
            {
                return 1;
            }
            else
            {
                long secondterm = 0;
                if (N % 2 == 1)
                {
                    secondterm += ((N - 3) / 2) * ((N - 3) / 2) + ((N - 3) / 2);
                }
                else
                {
                    secondterm += (N / 2 - 1) * (N / 2 - 1);
                }
                return N + secondterm;
            }
        }
    }

    class II
    {
        internal static long after_3rd_term(long N)
        {
            long result = 0;
            for (long n = N - 6; n >= 0; n -= 2)
            {
                long k = 3 + ((N - 6) - n) / 2;
                result += A(n, k);
            }
            return result;
        }

        private static long A(long n, long k)
        {
            if (n >= k && k >= 3)
            {
                return C(n) + A(n - k, k) + B(n, k);
            }
            else if (n >= 3 && n < k)
            {
                k = n;
                return C(n) + A(n - k, k) + B(n, k);
            }
            else
            {
                return C(n);
            }
        }

        private static long B(long n, long k)
        {
            long send_back = 0;
            while (k > 3)
            {
                k--;
                send_back += A(n - k, k);
            }
            return send_back;
        }

        private static long C(long n)
        {
            long c_result = 0;
            c_result += D(n);

            return c_result;
        }

        private static long D(long n)
        {
            long result = 0;

            if (n % 2 == 1)
            {
                result += ((n + 1) / 2) * ((n + 1) / 2) + ((n + 1) / 2);
            }
            else
            {
                result += (n / 2 + 1) * (n / 2 + 1);
            }
            return result;
        }
    }
}

        </textarea><br>
        <input type="submit" style="font-size:140%;" value="Submit">
      </form>

      <br />
      <br />
      <br />

      <h2>revised_C</h2>

      <form action="https://www.jdoodle.com/api/redirect-to-post/compile-c99-online" method="post">
        <textarea name="initScript"  rows="16" cols="160">

#include <stdio.h>
#include <time.h>
long first2terms(long N);
long after_3rd_term = 0;
long expansion(long n, long k);


int main(void) {

  double N = 150;  // Please input a natural number "N" for P(N) at here.
   

      clock_t start, end;
      double running_time;
      start = clock();
   
      long n = N-6, k, partition;    


      if(N>=0 && N-(int)N == 0){
           
         for(n; n>=0; n-=2){
            k=3+((N-6)-n)/2;
            expansion(n,k);
         }
           
         partition = first2terms(N) + after_3rd_term;
         printf("%ld\n",partition);
     
         end = clock();
         running_time = ((double)(end - start))/CLOCKS_PER_SEC;
         printf("%s%lf%s\n", "running time: ", running_time, " seconds");   
      }
      else{
         printf("%s\n", "undefined");
      }
      return 0;
}

long first2terms(long N){
  
      if(N==0){
         return 1;
      }
      else{ 
         long secondterm = 0;
         if(N%2==1){
           secondterm += ((N-3)/2)*((N-3)/2)+((N-3)/2);
         }
         else{
           secondterm += (N/2-1)*(N/2-1);
         }
         return N + secondterm;
      } 
}

long expansion(long n, long k){
  
     if(n>=k && k>=3){
        for(k; k>=3; k--)expansion(n-k,k);}  
     else if(n>=3 && n<k){k=n;
        for(k; k>=3; k--)expansion(n-k,k);}
     else{}
    
     if(n%2==1){
         after_3rd_term += ((n+1)/2)*((n+1)/2)+((n+1)/2);
     }
     else{
         after_3rd_term += (n/2+1)*(n/2+1);
     }
     return after_3rd_term;     
}

        </textarea><br>
        <input type="submit" style="font-size:140%;" value="Submit">
      </form>

      <br />
      <br />
      <br />

      <h2>revised_C++</h2>

      <form action="https://www.jdoodle.com/api/redirect-to-post/online-compiler-c++14" method="post">
        <textarea name="initScript"  rows="16" cols="160">

#include <iostream>
#include <chrono>
long first2terms(long N);
long after_3rd_term = 0;
long expansion(long n, long k);


int main(void) {

  auto N = 150;  // Please input a natural number "N" for P(N) at here.
   

      auto start = std::chrono::steady_clock::now();
      long n = N-6, k, partition;  
      
      if(N>=0 && N-(int)N == 0){
         
         for(n; n>=0; n-=2){
            k=3+((N-6)-n)/2;
            expansion(n,k);
         }
          
         partition = first2terms(N) + after_3rd_term;
         std::cout << partition << '\n';
      
         auto end = std::chrono::steady_clock::now();
         auto diff = end - start;
         std::cout << "running time: " 
         << std::chrono::duration<double>(diff).count() << " seconds" << '\n'; 
      
      }
      else{
           std::cout << "undefined" << '\n';
      }
      return 0;
}

long first2terms(long N){
  
      if(N==0){
         return 1;
      }
      else{
         long secondterm = 0;
         if(N%2==1){
           secondterm += ((N-3)/2)*((N-3)/2)+((N-3)/2);
         }
         else{
           secondterm += (N/2-1)*(N/2-1);
         }
         return N + secondterm;
      }
}

long expansion(long n, long k){
  
     if(n>=k && k>=3){
        for(k; k>=3; k--)expansion(n-k,k);}  
     else if(n>=3 && n<k){k=n;
        for(k; k>=3; k--)expansion(n-k,k);}
     else{}
   
     if(n%2==1){
         after_3rd_term += ((n+1)/2)*((n+1)/2)+((n+1)/2);
     }
     else{
         after_3rd_term += (n/2+1)*(n/2+1);
     }
     return after_3rd_term;     
}          

        </textarea><br>
        <input type="submit" style="font-size:140%;" value="Submit">
      </form>

      <br />
      <br />
      <br />

</details>

<br />
<br />
<br />

<details>

    <summary><strong> Partition by Size Function </strong></summary>
    
<p>We coded also ps(n,k) function for those who might need it. <br> 
   Here, the codes written in C and C++ are based on the "revised" codes <br>
   of the partition function that is written in C and C++. 
</p>

<br>
<br>

<h2>Python</h2>

      
<form action="https://www.jdoodle.com/api/redirect-to-post/python3-programming-online" method="post">
  <textarea name="initScript"  rows="16" cols="160">


import timeit
timer_start = timeit.default_timer()


(n,k) = (50,40)  
# Please input (n,k) for the ps(n,k) function above here.
# Note that when k=n, then ps(n,k) = P(n), 
# where P(n) is the partition function.


if(n-int(n) == 0 and k-int(k) == 0 and n >=0 and k >= 0):
    def partition_by_size(n, k):
        m=n
        result = 0
        if n>=k and k>0:    
            for n in range(n-1, n-k-1, -1):
                k=m-n
                result += A(n,k)
            return result  
        elif k>n and n != 0 and k>0:
            k=n
            for n in range(n-1, n-k-1, -1):
                k=m-n
                result += A(n,k)
            return result  
        else:
            return 1


    def A(n, k):
        if n >=k and k == 1:
            return 1
        elif n >= k and k >= 3:
            return C(n) + A(n-k, k) + B(n, k)
        elif n >= 3 and n < k:
            k = n
            return C(n) + A(n-k, k) + B(n, k)
        else:
            return C(n)

    def B(n, k):
        send_back = 0
        while k > 3:
            k -= 1
            send_back += A(n-k, k)
        return send_back

    def C(n):
        c_result = 0
        c_result += D(n)
        return c_result

    def D(n):
        if n % 2 == 1:
            return (n+1)/2
        else:
            return (n/2)+1


    ps_function = int(partition_by_size(n, k))
    timer_stop = timeit.default_timer()
    running_time = round(timer_stop - timer_start, 6)


    if __name__ == '__main__':
        print("ps(n,k): ", ps_function, "\n" "running time: ",
        running_time, " seconds") 

else:
    print("undefined")

</textarea><br>
<input type="submit" style="font-size:140%;" value="Submit">
</form>

<br>
<br>
<br>

<h2>Java</h2>

<form action="https://www.jdoodle.com/api/redirect-to-post/online-java-compiler" method="post">
    <textarea name="initScript"  rows="16" cols="160">

public class partition_by_size {
    public static void main(String[] args) {
        long n = 100, k = 50;
        /*
        Please input (n,k) for the ps(n,k) function above here.
        Note that when k>=n, then ps(n,k) = P(n) holds,
        where P(n) is the partition function.
        */

        if (n >= 0 && k >= 0) {
            long startTime = System.nanoTime();
            long result = expansion(n, k);

            long endTime = System.nanoTime();
            long totalTime = (endTime - startTime) / 1000000000;
            System.out.println(result);
            System.out.println(totalTime + "seconds");
        } else {
            System.out.println("undefined");
        }
    }

    private static long expansion(long n, long k) {
        long m = n, lower_limit = n - k, result = 0;

        if (n >= k && k > 0) {
            for (n -= 1; n >= lower_limit; n -= 1) {
                k = m - n;
                result += A(n, k);
            }
            return result;
        } else if (k > n && n != 0 && k > 0) {
            k = n;
            lower_limit = n - k;
            for (n -= 1; n >= lower_limit; n -= 1) {
                k = m - n;
                result += A(n, k);
            }
            return result;
        } else {
            return 1;
        }
    }

    private static long A(long n, long k) {
        if (n >= k && k == 1) {
            return 1;
        } else if (n >= k && k >= 3) {
            return C(n) + A(n - k, k) + B(n, k);
        } else if (n >= 3 && n < k) {
            k = n;
            return C(n) + A(n - k, k) + B(n, k);
        } else {
            return C(n);
        }
    }

    private static long B(long n, long k) {
        long send_back = 0;
        while (k > 3) {
            k--;
            send_back += A(n - k, k);
        }
        return send_back;
    }

    private static long C(long n) {
        long c_result = 0;
        c_result += D(n);
        return c_result;
    }

    private static long D(long n) {
        long result = 0;

        if (n % 2 == 1) {
            result += (n + 1) / 2;
        } else {
            result += (n / 2) + 1;
        }
        return result;
    }
}
        
</textarea><br>
<input type="submit" style="font-size:140%;" value="Submit">
</form>

<br>
<br>
<br>

<h2>JavaScript (Node.js)</h2>

<form action="https://www.jdoodle.com/api/redirect-to-post/execute-nodejs-online" method="post">
    <textarea name="initScript"  rows="16" cols="160">



let [n, k] = [100, 50];
/* 
Please input [n,k] for the ps(n,k) function above here.
Note that when k>=n, then ps(n,k) = P(n), 
where P(n) is the partition function. 
*/


let startTime = performance.now();


if (n - parseInt(n) == 0 && k - parseInt(k) == 0 && n >= 0 && k >= 0) {

    function partition_by_size(n, k) {
        let m = n;
        let lowerlimit = n - k;
        let result = 0;
        if (n >= k && k > 0) {
            for (n -= 1; n >= lowerlimit; n -= 1) {
                k = m - n;
                result += A(n, k);
            }
            return result;
        }
        else if (k > n && n != 0 && k > 0) {
            k = n, lowerlimit = n - k;
            for (n -= 1; n >= lowerlimit; n -= 1) {
                k = m - n;
                result += A(n, k);
            }
            return result;
        }
        else {
            return 1;
        }
    }

    function A(n, k) {
        if (n >= k && k == 1) {
            return 1;
        }
        else if (n >= k && k >= 3) {
            return C(n) + A(n - k, k) + B(n, k);
        }
        else if (n >= 3 && n < k) {
            k = n;
            return C(n) + A(n - k, k) + B(n, k);
        }
        else {
            return C(n);
        }
    }

    function B(n, k) {
        let send_back = 0;
        while (k > 3) {
            k--;
            send_back += A(n - k, k);
        }
        return send_back;
    }

    function C(n) {
        let c_result = 0;
        c_result += D(n);
        return c_result;
    }

    function D(n) {
        let result = 0;

        if (n % 2 == 1) {
            result += (n + 1) / 2;
        } else {
            result += (n / 2) + 1;
        }
        return result;
    }

    let ps_function = partition_by_size(n, k);
    console.log(ps_function);

    let endTime = performance.now();
    let duration = ((endTime - startTime) / 1000).toFixed(6);
    console.log(`running time: ${duration} seconds`);
}

else {
    console.log("undefined");
}
        
</textarea><br>
<input type="submit" style="font-size:140%;" value="Submit">
</form>

<br>
<br>
<br>

<h2>revised_C</h2>

      
<form action="https://www.jdoodle.com/api/redirect-to-post/compile-c99-online" method="post">
  <textarea name="initScript"  rows="16" cols="160">

#include <stdio.h>
#include <time.h>
long result = 0;
long expansionI(long n, long k);
long expansionII(long n, long k);


int main(void) {

  double n = 100, k = 50;  
  /* 
  Please input (n,k) for the ps(n,k) function above here.
  Note that when k>=n, then ps(n,k) = P(n) holds, 
  where P(n) is the partition function. 
  */
   
      clock_t start, end;
      double running_time;
      start = clock();

            if (n-(int)n == 0 && k-(int)k == 0 && n >= 0 && k >= 0){
               
                expansionI(n,k);
                
                printf("%ld\n", result);
           
                end = clock();
                running_time = ((double)(end - start))/CLOCKS_PER_SEC;
                printf("%s%lf%s\n", "running time: ", running_time, " seconds");   
            }

            else{
              printf("%s\n", "undefined");
            }
            return 0;
}

long expansionI(long n, long k){

     if (n >= k && k > 0) {
        long m=n, limitlength = n-k;
        for(n-=1; n>=limitlength; n-=1){ 
            k=m-n;
            expansionII(n,k);
        }
     }
     else if (k > n && n != 0 && k != 0) {
        long m=n, k=n, limitlength = n-k;
        for(n-=1; n>=limitlength; n-=1){ 
            k=m-n;
            expansionII(n,k);
        }
     }
     else {
            return result += 1;
     }

     return 0;
}

long expansionII(long n, long k){

     if (n >= k && k == 1) {return result += 1;}
     else if(n>=k && k>=3){
        for(k; k>=3; k--)expansionII(n-k,k);}  
     else if(n>=3 && n<k){k=n;
        for(k; k>=3; k--)expansionII(n-k,k);}
     else{}
    
     if(n%2==1){
         result += (n+1)/2;
     }
     else{
         result += (n/2)+1;
     }
     return result;     
}

</textarea><br>
<input type="submit" style="font-size:140%;" value="Submit">
</form>

<br>
<br>
<br>

<h2>revised_C++</h2>

<form action="https://www.jdoodle.com/api/redirect-to-post/online-compiler-c++14" method="post">
  <textarea name="initScript"  rows="16" cols="160">

#include <iostream>
#include <chrono>
long result = 0;
long expansionI(long n, long k);
long expansionII(long n, long k);


int main(void) {

  double n = 100, k = 50;  
  /* 
  Please input (n,k) for the ps(n,k) function above here.
  Note that when k>=n, then ps(n,k) = P(n) holds, 
  where P(n) is the partition function. 
  */
      auto start = std::chrono::steady_clock::now();

            if (n-(int)n == 0 && k-(int)k == 0 && n >= 0 && k >= 0){
               
                expansionI(n,k);
                
                std::cout << result << '\n';
           
                auto end = std::chrono::steady_clock::now();
                auto diff = end - start;
                std::cout << "running time: " 
                << std::chrono::duration<double>(diff).count() 
                << " seconds" << '\n';   
            }

            else{
              std::cout << "undefined" << '\n';
            }
            return 0;
}

long expansionI(long n, long k){

     if (n >= k && k > 0) {
        long m=n, limitlength = n-k;
        for(n-=1; n>=limitlength; n-=1){ 
            k=m-n;
            expansionII(n,k);
        }
     }
     else if (k > n && n != 0 && k != 0) {
        long m=n, k=n, limitlength = n-k;
        for(n-=1; n>=limitlength; n-=1){ 
            k=m-n;
            expansionII(n,k);
        }
     }
     else {
            return result += 1;
     }

     return 0;
}

long expansionII(long n, long k){

     if (n >= k && k == 1) {return result += 1;}
     else if(n>=k && k>=3){
        for(k; k>=3; k--)expansionII(n-k,k);}  
     else if(n>=3 && n<k){k=n;
        for(k; k>=3; k--)expansionII(n-k,k);}
     else{}
    
     if(n%2==1){
         result += (n+1)/2;
     }
     else{
         result += (n/2)+1;
     }
     return result;     
}

</textarea><br>
<input type="submit" style="font-size:140%;" value="Submit">
</form>
</details>

  </body>
</html>
